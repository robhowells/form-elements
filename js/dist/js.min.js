window.formHelper=function(e){var t=function(){var t={input:e(".file-input"),validExt:["pdf","doc","docx","jpeg","png","gif"],validSize:2097152,defaultMsg:"No file chosen",extErrMsg:"Please upload one of the following file types: ",sizeErrMsg:"Please upload a file under "},i=function(e){return(e/1048576).toFixed(0)},l=function(e){return e.length>30?e.substring(0,30)+"...":e},n=function(i){t.self.addClass("error"),e('<label class="file-input-error-msg error" for="'+t.inputId+'">'+i+"</label>").insertAfter(t.self)},a=function(e,a){for(var r=!1,o=!1,s="",f=0;f<t.validExt.length;f++)if(e===t.validExt[f]){r=!0;break}a<=t.validSize&&(o=!0),r&&o&&t.pathTarget.text(l(t.name)),r===!1&&(s=t.extErrMsg+t.validExt.join(", "),n(s)),o===!1&&(s=t.sizeErrMsg+i(t.validSize)+"MB",n(s))};t.input.focusin(function(){t.self=e(this),t.uploadBtn=t.self.prevAll(".file-input-upload-btn"),t.uploadBtn.addClass("focus")}),t.input.focusout(function(){t.uploadBtn.removeClass("focus")}),t.input.on("change",function(){t.self=e(this),t.path=t.self.val(),t.inputId=t.self.attr("id"),t.name=t.path.replace(/^.*[\\\/]/,""),t.ext=t.path.split(".").pop().toLowerCase(),t.pathTarget=t.self.nextAll(".file-input-fake-path"),t.path&&(window.File&&window.FileReader&&window.FileList&&window.Blob?t.size=this.files[0].size:t.size=0,t.pathTarget.text(t.defaultMsg),t.self.val("").removeClass("error"),e(".file-input-error-msg").remove(),a(t.ext,t.size))})};return{fileUpload:t}}(jQuery);